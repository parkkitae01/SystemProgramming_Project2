1000          COPY    START   1000          COPY FILE FROM INPUT TO OUTPUT
1000  141033  FIRST   STL     RETADR        SAVE RETURN ADDRESS
1003  48103C  CLOOP   JSUB    RDREC         READ INPUT RECORD
1006  001036          LDA     LENGTH        TEST FOR EOF (LENGTH = 0)
1009  281030          COMP    ZERO
100C  301015          JEQ     ENDFIL        EXIT IF EOF FOUND
100F  481066          JSUB    WRREC         WRITE OUTPUT RECORD
1012  3C1003          J       CLOOP         LOOP
1015  00102A  ENDFIL  LDA     EOF           INSERT END OF FILE MARKER
1018  0C1039          STA     BUFFER
101B  00102D          LDA     THREE         SET LENGTH = 3
101E  0C1036          STA     LENGTH
1021  481066          JSUB    WRREC         WRITE EOF
1024  081033          LDL     RETADR        GET RETURN ADDRESS
1027  4C0000          RSUB                  RETURN TO CALLER
102A  0B0000  EOF     BYTE    C'EOF'
102D  0D0003  THREE   WORD    3
1030  0D0000  ZERO    WORD    0
1033  050001  RETADR  RESW    1
1036  050001  LENGTH  RESW    1
1039  061000  BUFFER  RESB    4096
103C  041030  RDREC   LDX     ZERO          CLEAR LOOP COUNTER
103F  001030          LDA     ZERO          CLEAR A TO ZERO
1042  E01060  RLOOP   TD      INPUT         TEST INPUT DEVICE
1045  301042          JEQ     RLOOP         LOOP UNTIL READY
1048  D81060          RD      INPUT         READ CHARACTER INTO REGISTER A
104B  281030          COMP    ZERO          TEST FOR END OF RECORD (X'00')
104E  30105A          JEQ     EXIT          EXIT LOOP IF EOR
1051  549039          STCH    BUFFER,X      STORE CHARACTER IN BUFFER
1054  2C1063          TIX     MAXLEN        LOOP UNLESS MAX LENGTH
1057  381042          JLT     RLOOP         HAS BEEN REACHED
105A  101036  EXIT    STX     LENGTH        SAVE RECORD LENGTH
105D  4C0000          RSUB                  RETURN TO CALLER
1060  0B0000  INPUT   BYTE    X'F1'         CODE FOR INPUT DEVICE
1063  0D1000  MAXLEN  WORD    4096
1066  041030  WRREC   LDX     ZERO          CLEAR LOOP COUNTER
1069  E0107E  WLOOP   TD      OUTPUT        TEST OUTPUT DEVICE
106C  301069          JEQ     WLOOP         LOOP UNTIL READY
106F  509039          LDCH    BUFFER,X      GET CHARACTER FROM BUFFER
1072  DC107E          WD      OUTPUT        WRITE CHARACTER
1075  2C1036          TIX     LENGTH        LOOP UNTIL ALL CHARACTERS
1078  381069          JLT     WLOOP         HAVE BEEN WRITTEN
107B  4C0000          RSUB                  RETURN TO CALLER
107E  0B0000  OUTPUT  BYTE    X'05'         CODE FOR OUTPUT DEVICE
                      END     FIRST
